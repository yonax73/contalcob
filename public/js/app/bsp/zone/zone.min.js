function init(){swicthActiveLink(document.getElementById("zone-nav"));Location.Content.landline.hidden(!0);Location.Content.extensionLandline.hidden(!0);Location.Content.mobilePhone.hidden(!0);Location.Content.address.hidden(!0);initApp();formValidation();Zone.getId()>0&&load()}function load(){Pace.track(function(){$.ajax({type:"GET",url:"/load-zone?id="+Zone.getId(),success:function(n){try{fillData(JSON.parse(n))}catch(t){console.error(t);alert(n)}},error:function(n){alert(n.statusText)},timeout:6e4})})}function fillData(n){var t=n.location;Zone.title(n.name);Zone.setName(n.name);Zone.setDescription(n.description);Zone.setId(n.id);Location.setId(t.id);Location.Address.setId(t.address.id);Location.Address.setNeighBorhood(t.address.neighborhood);Location.Address.setAddress(t.address.address);Location.Address.City.setId(t.address.city.id);Location.Address.City.setCity(t.address.city.city);Location.Address.City.setCountry(t.address.city.country)}function formValidation(){$("#zone-frm").bootstrapValidator({feedbackIcons:faIcon,fields:{zoneName:{validators:{notEmpty:{message:"El nombre de la zona es requerido."}}},neighborhood:{validators:{notEmpty:{message:"El barrio es requerido"}}},city:{validators:{notEmpty:{message:"La ciudad es requerida"}}},country:{validators:{notEmpty:{message:"El Pa&iacute;s es requerido"}}}}}).on("success.field.bv",function(n,t){var i=t.element.parents(".form-group");i.removeClass("has-success")}).on("success.form.bv",function(n){n.preventDefault();var t=$(n.target);disabledControls(!0);Pace.track(function(){$.ajax({url:t.attr("action"),type:"POST",data:t.serialize(),success:function(n){disabledControls(!1);try{fillData(JSON.parse(n));Modal.Confirm.show();Modal.Confirm.action().onclick=function(){newZone();Modal.Confirm.close()}}catch(t){console.log(t);disabledControls(!1);alert(n)}},error:function(n){disabledControls(!1);alert(n.responseText)}})})})}function disabledControls(n){document.getElementById("save-zone-btn").disabled=n}function newZone(){Zone.clear();Location.clear()}window.onload=function(){init()};
//# sourceMappingURL=zone.min.js.map
