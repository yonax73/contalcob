function init(){VIEW_ACTION.CREATE_BUSINESS?(hiddenContentNavigation(),document.getElementById("page-title-txt").textContent="Registrar Negocio"):(swicthActiveLink(document.getElementById("business-nav")),hiddenElements(),initApp(),loadBusiness());formValidation()}function disabledControls(n){document.getElementById("save-business-btn").disabled=n}function hiddenElements(){document.getElementById("password-content").classList.add("hidden");document.getElementById("confirmPassword-content").classList.add("hidden");document.getElementById("acceptTerms-content").classList.add("hidden")}function loadBusiness(){Pace.track(function(){$.ajax({type:"GET",url:"/load-business",success:function(n){try{fillBusiness(JSON.parse(n))}catch(t){console.error(t);alert(n)}},error:function(n){alert(n.statusText)},timeout:6e4})})}function fillBusiness(n){document.getElementById("businessName").value=n.name;document.getElementById("userName").value=n.user.name;document.getElementById("emailLogin").value=n.user.login.email;document.getElementById("userLogin").value=n.user.login.user}function formValidation(){$("#business-frm").bootstrapValidator({message:"Este campo es requerido",feedbackIcons:faIcon,fields:{businessName:{message:"El nombre del negocio no es valido",validators:{notEmpty:{message:"El nombre del negocio es requerido."}}},userName:{validators:{notEmpty:{message:"El nombre es requerido"}}},emailLogin:{validators:{notEmpty:{message:"El correo el&eacute;ctronico es requerido"},emailAddress:{message:"Ingrese un correo el&eacute;ctronico valido"}}},userLogin:{validators:{notEmpty:{message:"El nombre de usuario es requerido"}}},password:{validators:{notEmpty:{message:"La contrase&ntilde;a es requerida"},identical:{field:"confirmPassword",message:"La contrase&ntilde;a y la confirmaci&oacute;n no son iguales"}}},confirmPassword:{validators:{notEmpty:{message:"La confirmaci&oacute;n de la contrase&ntilde;a es requerida"},identical:{field:"password",message:"La contrase&ntilde;a y la confirmaci&oacute;n no son iguales"}}},acceptTerms:{validators:{notEmpty:{message:"Debes aceptar terminos, condiciones y politicas de privacidad"}}}}}).on("success.field.bv",function(n,t){var i=t.element.parents(".form-group");i.removeClass("has-success")}).on("success.form.bv",function(n){n.preventDefault();var t=$(n.target);disabledControls(!0);Pace.track(function(){$.ajax({url:t.attr("action"),type:"POST",data:t.serialize(),success:function(n){n===RESPONSE_OK?VIEW_ACTION.CREATE_BUSINESS?(Modal.Alert.show(),Modal.Alert.action().onclick=function(){redirectLogin()}):Notification.success():alert(n);disabledControls(!1)},error:function(n){disabledControls(!1);alert(n.responseText)}})})})}function redirectLogin(){window.location="/"}window.onload=function(){init()};
//# sourceMappingURL=business.min.js.map
