function init(){swicthActiveLink(document.getElementById("clients-nav"));Location.Content.extensionLandline.hidden(!0);Location.Content.city.hidden(!0);Location.Content.country.hidden(!0);initApp();initFormValidation();Partner.getId()>0&&(Partner.Toolbar.hidden(!1),load())}function load(){Pace.track(function(){$.ajax({type:"GET",url:"/load-partner?id="+Partner.getId(),success:function(n){try{fillData(JSON.parse(n))}catch(t){console.error(t);alert(n)}},error:function(n){alert(n.statusText)},timeout:6e4})})}function fillData(n){var t=n.location;Partner.title(n.name);Partner.setFullName(n.name);Partner.setId(n.id);Location.setId(t.id);t.address&&(Location.Address.setId(t.address.id),Location.Address.setNeighBorhood(t.address.neighborhood),Location.Address.setAddress(t.address.address));t.mobilePhone&&(Location.MobilePhone.setNumber(t.mobilePhone.number),Location.MobilePhone.setId(t.mobilePhone.id));t.landline&&(Location.Landline.setNumber(t.landline.number),Location.Landline.setId(t.landline.id))}function initFormValidation(){$("#partner-frm").bootstrapValidator({feedbackIcons:faIcon,fields:{partnerName:{validators:{notEmpty:{message:"El nombre del cliente requerido."}}},address:{validators:{notEmpty:{message:"La direcci&oacute;n es requerida."}}}}}).on("success.field.bv",function(n,t){var i=t.element.parents(".form-group");i.removeClass("has-success")}).on("success.form.bv",function(n){n.preventDefault();var t=$(n.target);disabledControls(!0);Pace.track(function(){$.ajax({url:t.attr("action"),type:"POST",data:t.serialize(),success:function(n){disabledControls(!1);try{fillData(JSON.parse(n));Partner.Toolbar.hidden(!1);Notification.success()}catch(t){console.log(t);disabledControls(!1);alert(n)}},error:function(n){disabledControls(!1);alert(n.responseText)}})})})}function disabledControls(n){document.getElementById("save-partner-btn").disabled=n}function newPartner(){Partner.clear();Partner.title("Crear Cliente");Partner.Toolbar.hidden(!0);Location.clear()}function newLending(){}window.onload=function(){init()};var datas={};
//# sourceMappingURL=partner.min.js.map
